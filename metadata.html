
    <style>
        /*body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            padding: 20px;
        }*/
        .form-container {
            max-width: 500px;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        label {
            margin-bottom: 8px;
        }
        .btn-custom:hover {
            background-color: #0056b3;
        }
        .form-footer {
            text-align: center;
        }
    </style>
    <div class="form-container">
        <button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close" onclick="window.location.href='createPaper.php';"></button>
        <h2 class="text-center mb-2 ml-4 text-2xl font-bold">Question Paper Information</h2>
        <form id="metadataForm">
            <label for="college" style="margin-top:5px;">College Name:</label>
            <input type="text" id="colname" name="college" class="w-100 p-2 mb-3 border rounded" required>

            <label for="exam">Exam Name:</label>
            <input type="text" id="ename" name="exam" class="w-100 p-2 mb-3 border rounded" required>

            <label for="course">Course Name:</label>
            <input type="text" id="subname" name="course" class="w-100 p-2 mb-3 border rounded" required>

            <label for="courseCode">Course Code:</label>
            <input type="text" id="course-code" name="ccode" class="w-100 p-2 mb-3 border rounded">

            <label for="duration">Exam Duration (in hours):</label>
            <input type="text" id="duration" name="duration" class="w-100 p-2 mb-3 border rounded" required>

            <label for="marks">Total Marks:</label>
            <input type="number" id="marks" name="marks" class="w-100 p-2 mb-3 border rounded" required>

            <div id="msgBox"></div>

            <div class="form-footer">
                <button type="reset" class="btn btn-primary rounded w-25 me-3 btn-custom">Clear</button>
                <button type="submit" class="btn btn-primary rounded w-25 btn-custom">Submit</button>
            </div>
        </form>
    </div>
    
    <script>
        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length == 2) return parts.pop().split(';').shift();
            return 0; // Return `null` or any other default value
        }
        document.getElementById("metadataForm").addEventListener("submit", function (event) {
          event.preventDefault(); // ✅ Stop form from reloading page

          let formData = new FormData(this);

          fetch("metadata.php", {
            method: "POST",
            body: formData
          })
          .then(response => response.text())
          .then(data => {
            console.log("Response:", data); // Debugging
            
            const errorDiv = document.getElementById("msgBox");
            
            if (data.trim() === "success") {
                errorDiv.innerHTML = '<span class="text-success">Redirecting...</span>';
                document.cookie = `section=0; path=/; max-age=3600`;
                console.log("Cookie before redirect:", document.cookie);
                let qpool_id = getCookie('qpool_id');
                console.log("qpool_id:", qpool_id);
                
                
                // ✅ Redirect after 2 seconds
                setTimeout(() => {
                    window.location.href = "Qc/questionC.php";
                    //window.location.href = "homepage.php";
                }, 2000);
            } else {
                errorDiv.innerHTML = `<span class="text-danger">${data}</span>`;
            }
          })
          .catch(error => {
              console.error("Fetch Error:", error);
              document.getElementById("loginError").innerHTML = '<span class="text-danger">An error occurred. Please try again.</span>';
          });
        });
    </script>

